---
- summary: |
    Проверка регистрации на сайте с помощью существующей электронной почты 
  requirement: |
    При верном вводе почты и создании корректного пароля и никнэйма пользователь должен быть зарегистрирован системой
  prerequisites: |
    Открыта страница регистрации Sign up: https://codebattle.hexlet.io/users/new?locale=en&next=%2F
  test-data: |
    Nickname = iWriteAnyCode001 email = zf6r4@fthcapital.com Пароль = 2200Password=
  steps:
    - Вводим Nickname
    - Вводим email
    - Вводим Password дважды
    - Нажимаем кнопку "Submit"
  expected-result: |
    Пользователь должен попасть на главную страницу
    В правом верхнем углу написан Nickname пользователя

- summary: |
    Проверка регистрации на сайте с помощью несуществующей электронной почты 
  requirement: |
    При вводе вводе несуществующей почты система уведомляет о том, что не удалось найти данный email
  prerequisites: |
    Открыта страница регистрации Sign up: https://codebattle.hexlet.io/users/new?locale=en&next=%2F
  test-data: |
    Nickname = Fedy001 email = 29oko@fthcapital.com Пароль = 2121Password=
  steps:
    - Вводим Nickname
    - Вводим email
    - Вводим Password дважды
    - Нажимаем кнопку "Submit"
  expected-result: |
    Пользователь должен увидеть уведомление, что email не корректный или не существует
    
- summary: |
    Проверка регистрации на сайте с помощью существующего аккаунта Github 
  requirement: |
    При выборе регистрации с помощью Github система должна зарегистрировать пользователя с существующим аккауном на Github
  prerequisites: |
    Открыта страница регистрации Sign up: https://codebattle.hexlet.io/users/new?locale=en&next=%2F
  test-data: |
    no data
  steps:
    - Выбрать Sign up with Github
  expected-result: |
    Поcле проверки аккаунта Github пользователь должен попасть на главную страницу сайта 
    В правом верхнем углу написан Nickname пользователя, соответствующий его нику на Github

- summary: |
    Проверка регистрации на сайте с помощью существующего аккаунта Discord
  requirement: |
    При выборе регистрации с помощью Github система должна зарегистрировать пользователя с существующим аккауном на Github
  prerequisites: |
    Открыта страница регистрации Sign up: https://codebattle.hexlet.io/users/new?locale=en&next=%2F
  test-data: |
    no data
  steps:
    - Выбрать Sign up with Discord
    - Нажать авторизоваться в открывшемся окне Discord
  expected-result: |
    Поcле проверки аккаунта Discord пользователь должен попасть на главную страницу сайта 
    В правом верхнем углу написан Nickname пользователя, соответствующий его нику на Discord

- summary: |
    Проверка регистрации на сайте с помощью Github или Discord  при отсутствии аккаунтов на данных сайтах
  requirement: |
    Система дожна проверять наличие аккаунтов на данных ресурсах
  prerequisites: |
    Открыта страница регистрации Sign up: https://codebattle.hexlet.io/users/new?locale=en&next=%2F
  test-data: |
    no data
  steps:
    - Выбрать Sign up with Github
    - Вернуться на страницу регистрации
    - Выбрать Sign up with Github
  expected-result: |
    Поcле проверки отсутствия аккаунта Github/Discord пользователю должно быть предложенно зарегистрироваться на данных ресурсах

- summary: |
    Проверка авторизации на сайте с помощью существующих email и пароля  
  requirement: |
    При вводе на странице авторизации email и пароль от зарегистрированного профиля 
    пользователь должен войти в ситему
  prerequisites: |
    Открыта страница авторизации Sign in: https://codebattle.hexlet.io/session/new?locale=en&next=%2F
  test-data: |
    email = zf6r4@fthcapital.com Пароль = 2200Password=
  steps:
    - Вводим email
    - Вводим Password 
    - Нажимаем кнопку "Submit"
  expected-result: |
    Пользователь должен попасть на главную страницу
    В правом верхнем углу написан Nickname пользователя

- summary: |
    Проверка авторизации на сайте с помощью несуществующих или некорректных email и/или пароля  
  requirement: |
    При вводе на странице авторизации несуществующих или некорректных email и/или пароль
    пользователь не сможет войти в ситему
  prerequisites: |
    Открыта страница авторизации Sign in: https://codebattle.hexlet.io/session/new?locale=en&next=%2F
  test-data: |
    email = rf6r4@fthcapital.com Пароль = 1200Password=
  steps:
    - Вводим любой несуществующий выдуманный email
    - Вводим любой несуществующий выдуманный Password 
    - Нажимаем кнопку "Submit"
    - Вводим  некорректный email = rf6r4@fthcapital.com
    - Вводим  некорректный Password = 1200Password=
    - Нажимаем кнопку "Submit"
  expected-result: |
    Пользователь не должен войти в ситсему
    При вводе несуществующих или некорректных email пользователь должен увидеть надпись EMAIL_NOT_FOUND 
    При вводе несуществующих или некорректных Password пользователь видит надпись INVALID_PASSWORD

- summary: |
    Проверка сохранения количества сыгранных игр
  requirement: |
    На странице профиля должна сохранятся информация о количестве сыгранных игр 
  prerequisites: |
    Открыта главная страница https://codebattle.hexlet.io/#lobby
  test-data: |
    no data
  steps:
    - Нажать в правом верхнем углу на имя профиля или картинку профиля 
    - Выбрать My Profile
    - На странице профиля посмотреть количество сыгранных игр Statistics - games_played
    - Вернуться на главную страницу
    - Создаём и играем 3 игры с ботом, нажав Create a game -  With a bot
    - Заходим в My Profile - Statistics - games_played
  expected-result: |
    Пользователь должен увидеть, что количество игр games_played увеличилось на 3 

- summary: |
    Проверка сохранения истории сыгранных игр
  requirement: |
    На странице профиля должна сохранятся история сыгранных игр 
  prerequisites: |
    Открыта страница профиля My Profile
  test-data: |
    no data
  steps:
    - Нажать на вкладку COMPLETED GAMES
  expected-result: |
    В открывшейся вкладке пользователь должен увидеть историю игр (результаты, соперники, даты игр)

- summary: |
    Проверка отображения и построения рейтинга зарегистрированного пользователя
  requirement: |
    На сайте должен отображаться рейтинг зарегистрированного пользователя, строящийся
    взависимости от полученных за игры с другими пользователями очков
  prerequisites: |
    Открыта главная страница сайта 
  test-data: |
    email = zf6r4@fthcapital.com Пароль = 2200Password=
  steps:
    - Авторизоваться с помощью email и пароль, указанных в test-data
    - На главной странице в правом верхнем углу под никнеймом iWriteAnyCode001 проверить
      отображение рейтинга и эло-рейтинга
    - Перейти в My Profile
    - Во вкладке Statistics проверить отображение значений рейтинга в rank и elo_rating
    - Выйти на главную страницу сайта 
    - В Lobby навести курсор мыши на никнэйм любого пользователя в таблице
    - Проверить отображение рейтинга выбранного пользователя
    - В таблице LEADERBOARD на главной странице нажать Top list
    - В открывшейся таблице Users rating проверить отображение рейтинга игроков 
      за неделю, месяц и общий рейтинг, выбирая соответсвенно вкладки weekly, monthly, total
    - В строке поиска ввести никнейм iWriteAnyCode001
    - Проверить отображение рейтинга для iWriteAnyCode001
  expected-result: |
    Зарегистрированный пользователь должен увидеть свой рейтинг на главной странице, на странице профиля и в таблице Users rating
    Пользователь должен увидеть рейтинг других игроков в Lobby и в таблице Users rating
    В таблице Users rating отображается рейтинг за неделю, месяц и общий ретинг за всё время
    Шаги тест-кейса отображены на скриншоте Rank

- summary: |
    Проверка возможности просмотра сыгранных игр
  requirement: |
    Завершенная игра должна быть доступна в записи
  prerequisites:
    Авторизован пользователь iWriteAnyCode001
    Открыта страница профиля 
  test-data: |
    email = zf6r4@fthcapital.com Пароль = 2200Password=
  steps:
    - Открыть вкладку COMPLETED GAMES
    - Выбрать любую игру из списка 
    - Нажать Show
  expected-result: |
    Пользователь должен увидеть запись игры
    Редактор кода при этом выглядит как проигрыватель

- summary: |
    Проверка возможности создания игры
  requirement: |
    Пользователь должен иметь возможность создания игры с ботом или другим пользователем
  prerequisites:
    Авторизован пользователь iWriteAnyCode001
    Открыта главная страница https://codebattle.hexlet.io/#lobby
  test-data: |
    email = zf6r4@fthcapital.com Пароль = 2200Password=
  steps:
    - Нажать CREATE A GAME 
    - Выбрать Game type - With other user
    - Нажать Create battle
    - Подождать подключения к игре другого пользователя 
    - Завершить игру, нажав на белый флажок Give up the game 
    - Выйти на главную страницу и нажать CREATE A GAME 
    - Выбрать Game type - With a bot
    - Нажать Create battle
  expected-result: |
    Пользователь должен видеть, что  игра запустилась

- summary: |
    Проверка работы редактора во время игры
  requirement: |
    Пользователь должен видеть редактор во время игры и может писать в нем код 
  prerequisites:
    Авторизован пользователь iWriteAnyCode001
    Открыта главная страница https://codebattle.hexlet.io/#lobby
  test-data: |
    email = zf6r4@fthcapital.com Пароль = 2200Password=
  steps:
    - Нажать CREATE A GAME 
    - Выбрать Game type - With a bot
    - Нажать Create battle
    - Нажать ЛКМ на поле редактора, в верхнем углу которго указан наш нинэйм iWriteAnyCode001
    - Ввести любые цифры, буквы, символы, выполнить переход на новую строку 
  expected-result: |
    Пользователь должен увидеть редактор и может писать в нем код
    
- summary: |
    Проверка возможности просмотра кода соперника, времени игры и задания во время игры
  requirement: |
    Пользователь должен видеть во время игры в режиме онлайн код своего соперника, время игры, задание  
  prerequisites:
    Авторизован пользователь iWriteAnyCode001
    Открыта главная страница https://codebattle.hexlet.io/#lobby
  test-data: |
    email = zf6r4@fthcapital.com Пароль = 2200Password=
  steps:
    - Нажать CREATE A GAME 
    - Выбрать Game type - With other user
    - Нажать Create battle
    - Во время игры проверить, что видим описание задания игры во вкладке TASK
    - Проверить, что идёт обратный отсчёт времени до конца игры (TIMEOUT IN)
    - Проверить, что видим код оппонента в режиме онлайн 
  expected-result: |
    Пользователь после начала игры видит задание, оставшееся до конца игры время и код соперника 

- summary: |
    Проверка возможности выбора языка программирования 
  requirement: |
    Пользователь может выбирать язык программирования из возможных во время игры  
  prerequisites:
    Авторизован пользователь iWriteAnyCode001
    Открыта главная страница https://codebattle.hexlet.io/#lobby
  test-data: |
    email = zf6r4@fthcapital.com Пароль = 2200Password=
  steps:
    - Нажать CREATE A GAME 
    - Выбрать Game type - With a bot
    - Нажать Create battle
    - Во время игры открыть список доступных языков (находится слева над редакттором)
    - Выбрать любой язык программирования
    - Проверить, что выбранный язык отображается слева над редактором
    - Снова открыть список языков
    - Сменить язык на другой 
    - Проверить, что выбранный язык отображается слева над редактором
  expected-result: |
    Пользователь должен увидеть выбранный язык над редактором 

- summary: |
    Проверка возможности выбора уровня сложности
  requirement: |
    Пользователь может выбрать уровень сложности
  prerequisites:
    Авторизован пользователь iWriteAnyCode001
    Открыта главная страница https://codebattle.hexlet.io/#lobby
  test-data: |
    email = zf6r4@fthcapital.com Пароль = 2200Password=
  steps:
    - Нажать CREATE A GAME 
    - Выбрать Game type - With a bot
    - Выбрать один из четырёх уровней сложности в графе Level
    - Убедиться в изменении списка доступных заданий (Choose task by name or tags) при переключении уровней сложности 
  expected-result: |
    Пользователь должен увидеть предлагаемые уровни сложности при создании игры
    В зависимотси от выбранного уровня пользователь должен увидеть список заданий под выбранный уровень сложности 

- summary: |
    Проверка возможности выбора задания из списка заданий
  requirement: |
    Пользователь может выбрать определенное задание из списка при создании игры
  prerequisites:
    Авторизован пользователь iWriteAnyCode001
    Открыта главная страница https://codebattle.hexlet.io/#lobby
  test-data: |
    email = zf6r4@fthcapital.com Пароль = 2200Password=
  steps:
    - Нажать CREATE A GAME 
    - Выбрать Game type - With a bot
    - Раскрыть список доступных заданий - Choose task by name or tags
    - Выбрать любое задание из списка, запомнив его название
    - Нажать Create battle
    - Во вкладке Task убедиться, что название задания совпадает с выбранным из списка при создании игры
    - Создать еще несколько игр, выбирая разные задания и сравнивая их названия с заданиями в Task во время игры
    expected-result: |
      Пользователь должен увидеть название выбранного задания во вкладке Task
      
- summary: |
    Проверка возможности проверки написанного кода во время игры
  requirement: |
    Пользователь может проверять написанный код неограниченное количество раз во время игры 
  prerequisites:
    Авторизован пользователь iWriteAnyCode001 (email = zf6r4@fthcapital.com Пароль = 2200Password=)
    Открыта главная страница https://codebattle.hexlet.io/#lobby
  test-data: |
    код для проверки:
    const _ = require("lodash");
    const R = require("rambda");

    const solution = (width, length) => {
      return width * length;
    };

    module.exports = solution;
  steps:
    - Нажать CREATE A GAME 
    - Выбрать Game type - With a bot
    - Раскрыть список доступных заданий - Choose task by name or tags
    - Выбрать задание - rect_area
    - Нажать Create battle
    - Выбрать язык программирования - NodeJS
    - Начать вводить код для проверки построчно, после каждой введенной строки нажимая Run
    expected-result: |
      Пользователь после нажатия Run каждый раз должен видеть мигающий редактор и слышать звуковое сопровождение 
      После проверки кода пользователь должен увидеть результат проверки в автоматически открывшейся вкладке OUTPUT
      
    

